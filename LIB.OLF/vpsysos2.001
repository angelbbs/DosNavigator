
 Под OS/2 обычно CD определяется DosDevIOCtl как тип 7 ("Other"), куда входят
также трёхдюймовые 1.44M дискеты и неизвестно что ещё. От всего прочего CD
отличается по специфическому "числу цилиндров" (65535) и стандартному
для CD значению Bytes Per Sector, равному всегда 2048.
 Однако когда в OS/2 установлена поддержка UDF от IBM (UDF.IFS и
прилагающаяся к ней специальная версия OS2CDROM.DMD), то при наличии в
CD приводе CD-RW болванки, к которой хоть раз пытались обратиться - устройство
определяется как тип 8 ("R/W optical disk"), по видимому как раз специальный
OS2CDROM.DMD виновен в этом. Однако, у CD тем не менее показывается всё то же
специфическое "число цилиндров" (65535) и 2048 байт на сектор. У магнитооптики
число байт на сактор обычно другое, но в принципе может быть и 2048. Однако
тесты свидетельствуют, что DosDevIOCtl для магнитооптики показывает
осмысленное число цилиндров (проверено на FUJITSU MCM3130AP-S 0050 -
1.2G ATAPI). Таким образом, надеюсь, удастся избежать путаницы между CD
и MO, не дёргая диск. Во всяком случае, вероятность встретить что-либо
оптическое кроме CD, имеющее "число цилиндров" 65535 и 2048 байт на сектор
на мой взгляд крайне невысока.


