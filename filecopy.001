AK155  7.06.2006 <filecopy.pas> filecopy.001

1. В CopyDialog есть такой фрагмент:

  lFSplit(S, CopyDir, Nm, Xt);
  if S = '' then
    Exit;             {<filescopy.001>}

  Тут S - это строка целевого имени. Дальше нет никакой возможности
целевому имени стать пустым, так что в конце все проверки на
CopyDir = '' заведомо не проходят. Соотвественно, в CopyOpt никогда
не  устанавливается бит cpoDirEmpty и вся дальнейшая работа с ним
заведомо не нужна. В частности, не нужна переменная SoftMode и
вся работа с ней.
  Поэтому выбрасываю нафиг это всё.

2. Установка в конце слэша делает ненужным MakeSlash
после всех вызовов CopyDialog.


